{"version":3,"file":"static/js/672.cb6aa7af.chunk.js","mappings":"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","sources":["components/Common/FormsControls/FormsControls.js","webpack://my-app/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","hoc/withAuthRedirect.js","utils/validators.js","webpack://my-app/./src/components/Common/FormsControls/FormsControls.module.css?8edf"],"sourcesContent":["import React from \"react\"\r\nimport f from '../FormsControls/FormsControls.module.css'\r\nimport { Field } from \"redux-form\";\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n    const showError = meta.touched && meta.error;\r\n    return (\r\n        <div className={f.formControl + \" \" + (showError ? f.error : \"\")}>\r\n            <div>{props.children}</div>\r\n            {showError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\nexport const createField = (placeholder, component, validate, name, props = {}) => (\r\n    <Field className={f.formField}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        component={component}\r\n        validate={validate}\r\n        {...props} />)\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__gzKYt\",\"dialogItem\":\"Dialogs_dialogItem__nD5wg\",\"messages\":\"Dialogs_messages__J31IP\"};","import { NavLink } from 'react-router-dom';\r\nimport s from '../Dialogs.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n    return (\r\n        <div className={s.dialog + '' + s.active}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n/*const DialogItems = (props) => {\r\n    return (\r\n            <div className={s.dialogborder}>\r\n                <img className={s.borderimg} src='https://www.kino-teatr.ru/news/15865/143634.jpg' />\r\n                <div>\r\n                    <div className={s.dlgname}><b>{props.name} {props.secondname}</b></div>\r\n                    <div className={s.message}>{props.text}</div>\r\n                </div>\r\n                <p className={s.dialogdate}>{props.date}</p>\r\n            </div>\r\n    )\r\n}*/\r\n\r\nexport default DialogItem;","import s from '../Dialogs.module.css';\r\n\r\n\r\nconst Message = (props) => {\r\n    return <div className={s.message}>{props.message}</div>\r\n}\r\n\r\nexport default Message;","import s from './Dialogs.module.css'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLengthCreator, minLengthCreator } from '../../utils/validators'\r\nimport {Input, createField} from '../Common/FormsControls/FormsControls'\r\n\r\nconst maxLength = maxLengthCreator(100);\r\nconst minLength = minLengthCreator(1);\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field name={'MessageBody'} component={'textarea'} validate={[required, maxLength, minLength]} placeholder='Enter your message'></Field>\r\n            {/* {createField(\"Enter your message\", Input, [required,maxLengthCreator(50),minLengthCreator(1)],'MessageBody')} */}\r\n            <button>Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMesageReduxForm = reduxForm({form: 'dialogsAddMessageForm'})(AddMessageForm);\r\n\r\nconst Dialogs = (props) => {\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogElements = state.dialogs.map(dialog => <DialogItem name={dialog.name} key={dialog.id} id={dialog.id} />)\r\n    let messageElements = state.messages.map(m => <Message message={m.message} key={m.id} id={m.id} />)\r\n\r\n    const addNewMessage = (values) => {\r\n        props.sendMessage(values.MessageBody);\r\n    }\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogItem}>\r\n                {dialogElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messageElements}</div>\r\n                <div>\r\n                    <AddMesageReduxForm onSubmit={addNewMessage}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import { sendMessage } from '../../Redux/dialogReducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        dialogsPage: state.dialogsPage,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, \r\n        {sendMessage}),\r\n    withAuthRedirect,\r\n)(Dialogs);","import { Component } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n})\r\n//HOC HIGH ORDER COMPONENT оборачивает компоненту\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to='/login' />\r\n            return <Component{...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n","export const required = value => {\r\n    if (value) return undefined;\r\n    return \"field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n    if (value.length < minLength) return `Min length is ${minLength} symbols`;\r\n    return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormsControls_formControl__CiQtR\",\"error\":\"FormsControls_error__9yZcf\",\"form_summary_error\":\"FormsControls_form_summary_error__h6X3Z\",\"formField\":\"FormsControls_formField__QwbJU\"};"],"names":["FormControl","input","meta","props","child","showError","touched","error","className","f","children","Textarea","restProps","Input","createField","placeholder","component","validate","name","path","id","s","to","message","maxLength","maxLengthCreator","minLength","minLengthCreator","AddMesageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","required","state","dialogsPage","dialogElements","dialogs","map","dialog","messageElements","messages","m","values","sendMessage","MessageBody","compose","connect","isAuth","auth","withAuthRedirect","Dialogs","mapStateToPropsForRedirect","Component","RedirectComponent","this","React","value","length"],"sourceRoot":""}